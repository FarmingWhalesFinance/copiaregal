{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nvar React = __importStar(require(\"react\"));\n\nvar mersenne_twister_1 = __importDefault(require(\"mersenne-twister\"));\n\nvar colorUtils_1 = require(\"./colorUtils\");\n\nvar colors_1 = __importDefault(require(\"./colors\"));\n\nvar Paper_1 = __importDefault(require(\"./Paper\")); // constants\n\n\nvar shapeCount = 4;\nvar svgns = \"http://www.w3.org/2000/svg\";\nvar wobble = 30;\nvar defaultDiameter = 24;\n\nvar Jazzicon =\n/** @class */\nfunction (_super) {\n  __extends(Jazzicon, _super);\n\n  function Jazzicon() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.genColor = function (colors) {\n      // @ts-ignore\n      var rand = _this.generator.random(); // purposefully call the generator once, before using it again on the next line\n\n\n      var idx = Math.floor(colors.length * _this.generator.random());\n      var color = colors.splice(idx, 1)[0];\n      return color;\n    };\n\n    _this.hueShift = function (colors, generator) {\n      var amount = generator.random() * 30 - wobble / 2;\n\n      var rotate = function (hex) {\n        return (0, colorUtils_1.colorRotate)(hex, amount);\n      };\n\n      return colors.map(rotate);\n    };\n\n    _this.genShape = function (remainingColors, diameter, i, total) {\n      var center = diameter / 2;\n\n      var firstRot = _this.generator.random();\n\n      var angle = Math.PI * 2 * firstRot;\n      var velocity = diameter / total * _this.generator.random() + i * diameter / total;\n      var tx = Math.cos(angle) * velocity;\n      var ty = Math.sin(angle) * velocity;\n      var translate = \"translate(\" + tx + \" \" + ty + \")\"; // Third random is a shape rotation on top of all of that.\n\n      var secondRot = _this.generator.random();\n\n      var rot = firstRot * 360 + secondRot * 180;\n      var rotate = \"rotate(\" + rot.toFixed(1) + \" \" + center + \" \" + center + \")\";\n      var transform = translate + \" \" + rotate;\n\n      var fill = _this.genColor(remainingColors);\n\n      return (0, jsx_runtime_1.jsx)(\"rect\", {\n        x: \"0\",\n        y: \"0\",\n        rx: \"0\",\n        ry: \"0\",\n        height: diameter,\n        width: diameter,\n        transform: transform,\n        fill: fill\n      }, i);\n    };\n\n    return _this;\n  }\n\n  Jazzicon.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        _b = _a.diameter,\n        diameter = _b === void 0 ? defaultDiameter : _b,\n        _c = _a.paperStyles,\n        paperStyles = _c === void 0 ? {} : _c,\n        seed = _a.seed,\n        _d = _a.svgStyles,\n        svgStyles = _d === void 0 ? {} : _d;\n    this.generator = new mersenne_twister_1.default(seed);\n    var remainingColors = this.hueShift(colors_1.default.slice(), this.generator);\n    var shapesArr = Array(shapeCount).fill(undefined);\n    return (0, jsx_runtime_1.jsx)(Paper_1.default, __assign({\n      color: this.genColor(remainingColors),\n      diameter: diameter,\n      style: paperStyles\n    }, {\n      children: (0, jsx_runtime_1.jsx)(\"svg\", __assign({\n        xmlns: svgns,\n        x: \"0\",\n        y: \"0\",\n        height: diameter,\n        width: diameter,\n        style: svgStyles\n      }, {\n        children: shapesArr.map(function (s, i) {\n          return _this.genShape(remainingColors, diameter, i, shapeCount - 1);\n        })\n      }), void 0)\n    }), void 0);\n  };\n\n  return Jazzicon;\n}(React.PureComponent);\n\nexports.default = Jazzicon;","map":{"version":3,"sources":["../src/Jazzicon.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,kBAAA,GAAA,eAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA;;AAEA,IAAA,YAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AACA,IAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;;AACA,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA,C,CAEA;;;AACA,IAAM,UAAU,GAAG,CAAnB;AACA,IAAM,KAAK,GAAG,4BAAd;AACA,IAAM,MAAM,GAAG,EAAf;AACA,IAAM,eAAe,GAAG,EAAxB;;AAWA,IAAA,QAAA;AAAA;AAAA,UAAA,MAAA,EAAA;EAAsC,SAAA,CAAA,QAAA,EAAA,MAAA,CAAA;;EAAtC,SAAA,QAAA,GAAA;IAAA,IAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;IAIE,KAAA,CAAA,QAAA,GAAW,UAAC,MAAD,EAAe;MACxB;MACA,IAAM,IAAI,GAAG,KAAI,CAAC,SAAL,CAAe,MAAf,EAAb,CAFwB,CAEc;;;MACtC,IAAM,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,MAAM,CAAC,MAAP,GAAgB,KAAI,CAAC,SAAL,CAAe,MAAf,EAA3B,CAAZ;MACA,IAAM,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,GAAd,EAAmB,CAAnB,EAAsB,CAAtB,CAAd;MACA,OAAO,KAAP;IACD,CAND;;IAQA,KAAA,CAAA,QAAA,GAAW,UAAC,MAAD,EAAiB,SAAjB,EAA2C;MACpD,IAAM,MAAM,GAAG,SAAS,CAAC,MAAV,KAAqB,EAArB,GAA0B,MAAM,GAAG,CAAlD;;MACA,IAAM,MAAM,GAAG,UAAC,GAAD,EAAY;QAAK,OAAA,CAAA,GAAA,YAAA,CAAA,WAAA,EAAY,GAAZ,EAAA,MAAA,CAAA;MAAwB,CAAxD;;MACA,OAAO,MAAM,CAAC,GAAP,CAAW,MAAX,CAAP;IACD,CAJD;;IAMA,KAAA,CAAA,QAAA,GAAW,UACT,eADS,EAET,QAFS,EAGT,CAHS,EAIT,KAJS,EAII;MAEb,IAAM,MAAM,GAAG,QAAQ,GAAG,CAA1B;;MACA,IAAM,QAAQ,GAAG,KAAI,CAAC,SAAL,CAAe,MAAf,EAAjB;;MACA,IAAM,KAAK,GAAG,IAAI,CAAC,EAAL,GAAU,CAAV,GAAc,QAA5B;MACA,IAAM,QAAQ,GACX,QAAQ,GAAG,KAAZ,GAAqB,KAAI,CAAC,SAAL,CAAe,MAAf,EAArB,GAAgD,CAAC,GAAG,QAAL,GAAiB,KADlE;MAEA,IAAM,EAAE,GAAG,IAAI,CAAC,GAAL,CAAS,KAAT,IAAkB,QAA7B;MACA,IAAM,EAAE,GAAG,IAAI,CAAC,GAAL,CAAS,KAAT,IAAkB,QAA7B;MACA,IAAM,SAAS,GAAG,eAAe,EAAf,GAAoB,GAApB,GAA0B,EAA1B,GAA+B,GAAjD,CATa,CAWb;;MACA,IAAM,SAAS,GAAG,KAAI,CAAC,SAAL,CAAe,MAAf,EAAlB;;MACA,IAAM,GAAG,GAAG,QAAQ,GAAG,GAAX,GAAiB,SAAS,GAAG,GAAzC;MACA,IAAM,MAAM,GACV,YAAY,GAAG,CAAC,OAAJ,CAAY,CAAZ,CAAZ,GAA6B,GAA7B,GAAmC,MAAnC,GAA4C,GAA5C,GAAkD,MAAlD,GAA2D,GAD7D;MAEA,IAAM,SAAS,GAAG,SAAS,GAAG,GAAZ,GAAkB,MAApC;;MACA,IAAM,IAAI,GAAG,KAAI,CAAC,QAAL,CAAc,eAAd,CAAb;;MAEA,OACE,CAAA,GAAA,aAAA,CAAA,GAAA,EAAA,MAAA,EAAA;QAEE,CAAC,EAAC,GAFJ;QAGE,CAAC,EAAC,GAHJ;QAIE,EAAE,EAAC,GAJL;QAKE,EAAE,EAAC,GALL;QAME,MAAM,EAAE,QANV;QAOE,KAAK,EAAE,QAPT;QAQE,SAAS,EAAE,SARb;QASE,IAAI,EAAE;MATR,CAAA,EACO,CADP,CADF;IAaD,CApCD;;;EAwED;;EAlCC,QAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;IAAA,IAAA,KAAA,GAAA,IAAA;;IACQ,IAAA,EAAA,GAKF,KAAK,KALH;IAAA,IACJ,EAAA,GAAA,EAAA,CAAA,QADI;IAAA,IACJ,QAAQ,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,eAAH,GAAkB,EADtB;IAAA,IAEJ,EAAA,GAAA,EAAA,CAAA,WAFI;IAAA,IAEJ,WAAW,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,EAFZ;IAAA,IAGJ,IAAI,GAAA,EAAA,CAAA,IAHA;IAAA,IAIJ,EAAA,GAAA,EAAA,CAAA,SAJI;IAAA,IAIJ,SAAS,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,EAAH,GAAK,EAJV;IAON,KAAK,SAAL,GAAiB,IAAI,kBAAA,CAAA,OAAJ,CAAoB,IAApB,CAAjB;IAEA,IAAM,eAAe,GAAG,KAAK,QAAL,CAAc,QAAA,CAAA,OAAA,CAAO,KAAP,EAAd,EAA8B,KAAK,SAAnC,CAAxB;IACA,IAAM,SAAS,GAAG,KAAK,CAAC,UAAD,CAAL,CAAkB,IAAlB,CAAuB,SAAvB,CAAlB;IAEA,OACE,CAAA,GAAA,aAAA,CAAA,GAAA,EAAC,OAAA,CAAA,OAAD,EAAM,QAAA,CAAA;MACJ,KAAK,EAAE,KAAK,QAAL,CAAc,eAAd,CADH;MAEJ,QAAQ,EAAE,QAFN;MAGJ,KAAK,EAAE;IAHH,CAAA,EAGc;MAAA,QAAA,EAElB,CAAA,GAAA,aAAA,CAAA,GAAA,EAAA,KAAA,EAAA,QAAA,CAAA;QACE,KAAK,EAAE,KADT;QAEE,CAAC,EAAC,GAFJ;QAGE,CAAC,EAAC,GAHJ;QAIE,MAAM,EAAE,QAJV;QAKE,KAAK,EAAE,QALT;QAME,KAAK,EAAE;MANT,CAAA,EAMkB;QAAA,QAAA,EAEf,SAAS,CAAC,GAAV,CAAc,UAAC,CAAD,EAAI,CAAJ,EAAK;UAClB,OAAA,KAAI,CAAC,QAAL,CAAc,eAAd,EAA+B,QAA/B,EAAyC,CAAzC,EAA4C,UAAU,GAAG,CAAzD,CAAA;QAA2D,CAD5D;MAFe,CANlB,CAAA,EAUG,KAAA,CAVH;IAFkB,CAHd,CAAN,EAgBQ,KAAA,CAhBR,CADF;EAoBD,CAjCD;;EAkCF,OAAA,QAAA;AAAC,CA1FD,CAAsC,KAAK,CAAC,aAA5C,CAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar React = __importStar(require(\"react\"));\nvar mersenne_twister_1 = __importDefault(require(\"mersenne-twister\"));\nvar colorUtils_1 = require(\"./colorUtils\");\nvar colors_1 = __importDefault(require(\"./colors\"));\nvar Paper_1 = __importDefault(require(\"./Paper\"));\n// constants\nvar shapeCount = 4;\nvar svgns = \"http://www.w3.org/2000/svg\";\nvar wobble = 30;\nvar defaultDiameter = 24;\nvar Jazzicon = /** @class */ (function (_super) {\n    __extends(Jazzicon, _super);\n    function Jazzicon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.genColor = function (colors) {\n            // @ts-ignore\n            var rand = _this.generator.random(); // purposefully call the generator once, before using it again on the next line\n            var idx = Math.floor(colors.length * _this.generator.random());\n            var color = colors.splice(idx, 1)[0];\n            return color;\n        };\n        _this.hueShift = function (colors, generator) {\n            var amount = generator.random() * 30 - wobble / 2;\n            var rotate = function (hex) { return (0, colorUtils_1.colorRotate)(hex, amount); };\n            return colors.map(rotate);\n        };\n        _this.genShape = function (remainingColors, diameter, i, total) {\n            var center = diameter / 2;\n            var firstRot = _this.generator.random();\n            var angle = Math.PI * 2 * firstRot;\n            var velocity = (diameter / total) * _this.generator.random() + (i * diameter) / total;\n            var tx = Math.cos(angle) * velocity;\n            var ty = Math.sin(angle) * velocity;\n            var translate = \"translate(\" + tx + \" \" + ty + \")\";\n            // Third random is a shape rotation on top of all of that.\n            var secondRot = _this.generator.random();\n            var rot = firstRot * 360 + secondRot * 180;\n            var rotate = \"rotate(\" + rot.toFixed(1) + \" \" + center + \" \" + center + \")\";\n            var transform = translate + \" \" + rotate;\n            var fill = _this.genColor(remainingColors);\n            return ((0, jsx_runtime_1.jsx)(\"rect\", { x: \"0\", y: \"0\", rx: \"0\", ry: \"0\", height: diameter, width: diameter, transform: transform, fill: fill }, i));\n        };\n        return _this;\n    }\n    Jazzicon.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, _b = _a.diameter, diameter = _b === void 0 ? defaultDiameter : _b, _c = _a.paperStyles, paperStyles = _c === void 0 ? {} : _c, seed = _a.seed, _d = _a.svgStyles, svgStyles = _d === void 0 ? {} : _d;\n        this.generator = new mersenne_twister_1.default(seed);\n        var remainingColors = this.hueShift(colors_1.default.slice(), this.generator);\n        var shapesArr = Array(shapeCount).fill(undefined);\n        return ((0, jsx_runtime_1.jsx)(Paper_1.default, __assign({ color: this.genColor(remainingColors), diameter: diameter, style: paperStyles }, { children: (0, jsx_runtime_1.jsx)(\"svg\", __assign({ xmlns: svgns, x: \"0\", y: \"0\", height: diameter, width: diameter, style: svgStyles }, { children: shapesArr.map(function (s, i) {\n                    return _this.genShape(remainingColors, diameter, i, shapeCount - 1);\n                }) }), void 0) }), void 0));\n    };\n    return Jazzicon;\n}(React.PureComponent));\nexports.default = Jazzicon;\n//# sourceMappingURL=Jazzicon.js.map"]},"metadata":{},"sourceType":"script"}