{"ast":null,"code":"import { __spreadArray } from \"tslib\";\n\nvar Emitter =\n/** @class */\nfunction () {\n  function Emitter() {\n    this.callbacks = {};\n  }\n\n  Emitter.prototype.on = function (event, callback) {\n    var _a;\n\n    this.callbacks[event] = __spreadArray(__spreadArray([], (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [], true), [callback], false);\n    return this;\n  };\n\n  Emitter.prototype.once = function (event, fn) {\n    var _this = this;\n\n    var on = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      _this.off(event, on);\n\n      fn.apply(_this, args);\n    };\n\n    this.on(event, on);\n    return this;\n  };\n\n  Emitter.prototype.off = function (event, callback) {\n    var _a;\n\n    var fns = (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [];\n    var without = fns.filter(function (fn) {\n      return fn !== callback;\n    });\n    this.callbacks[event] = without;\n    return this;\n  };\n\n  Emitter.prototype.emit = function (event) {\n    var _this = this;\n\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var callbacks = (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [];\n    callbacks.forEach(function (callback) {\n      callback.apply(_this, args);\n    });\n    return this;\n  };\n\n  return Emitter;\n}();\n\nexport { Emitter };","map":{"version":3,"sources":["../../../src/emitter/index.ts"],"names":[],"mappings":";;AAAA,IAAA,OAAA;AAAA;AAAA,YAAA;EAAA,SAAA,OAAA,GAAA;IACU,KAAA,SAAA,GAAwC,EAAxC;EA+BT;;EA7BC,OAAA,CAAA,SAAA,CAAA,EAAA,GAAA,UAAG,KAAH,EAAkB,QAAlB,EAAoC;;;IAClC,KAAK,SAAL,CAAe,KAAf,IAAqB,aAAA,CAAA,aAAA,CAAA,EAAA,EAAQ,CAAA,EAAA,GAAA,KAAK,SAAL,CAAe,KAAf,CAAA,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,EAArB,GAAyB,EAAjC,EAAoC,IAApC,CAAA,EAAoC,CAAE,QAAF,CAApC,EAA8C,KAA9C,CAArB;IACA,OAAO,IAAP;EACD,CAHD;;EAKA,OAAA,CAAA,SAAA,CAAA,IAAA,GAAA,UAAK,KAAL,EAAoB,EAApB,EAAgC;IAAhC,IAAA,KAAA,GAAA,IAAA;;IACE,IAAM,EAAE,GAAG,YAAA;MAAC,IAAA,IAAA,GAAA,EAAA;;WAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAkB;QAAlB,IAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;MACV,KAAI,CAAC,GAAL,CAAS,KAAT,EAAgB,EAAhB;;MACA,EAAE,CAAC,KAAH,CAAS,KAAT,EAAe,IAAf;IACD,CAHD;;IAKA,KAAK,EAAL,CAAQ,KAAR,EAAe,EAAf;IACA,OAAO,IAAP;EACD,CARD;;EAUA,OAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,KAAJ,EAAmB,QAAnB,EAAqC;;;IACnC,IAAM,GAAG,GAAG,CAAA,EAAA,GAAA,KAAK,SAAL,CAAe,KAAf,CAAA,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,EAArB,GAAyB,EAArC;IACA,IAAM,OAAO,GAAG,GAAG,CAAC,MAAJ,CAAW,UAAC,EAAD,EAAG;MAAK,OAAA,EAAE,KAAF,QAAA;IAAe,CAAlC,CAAhB;IACA,KAAK,SAAL,CAAe,KAAf,IAAwB,OAAxB;IACA,OAAO,IAAP;EACD,CALD;;EAOA,OAAA,CAAA,SAAA,CAAA,IAAA,GAAA,UAAK,KAAL,EAAkB;IAAlB,IAAA,KAAA,GAAA,IAAA;;;;IAAoB,IAAA,IAAA,GAAA,EAAA;;SAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAkB;MAAlB,IAAA,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;IAClB,IAAM,SAAS,GAAG,CAAA,EAAA,GAAA,KAAK,SAAL,CAAe,KAAf,CAAA,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,EAArB,GAAyB,EAA3C;IACA,SAAS,CAAC,OAAV,CAAkB,UAAC,QAAD,EAAS;MACzB,QAAQ,CAAC,KAAT,CAAe,KAAf,EAAqB,IAArB;IACD,CAFD;IAGA,OAAO,IAAP;EACD,CAND;;EAOF,OAAA,OAAA;AAAC,CAhCD,EAAA","sourceRoot":"","sourcesContent":["import { __spreadArray } from \"tslib\";\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.callbacks = {};\n    }\n    Emitter.prototype.on = function (event, callback) {\n        var _a;\n        this.callbacks[event] = __spreadArray(__spreadArray([], ((_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : []), true), [callback], false);\n        return this;\n    };\n    Emitter.prototype.once = function (event, fn) {\n        var _this = this;\n        var on = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            _this.off(event, on);\n            fn.apply(_this, args);\n        };\n        this.on(event, on);\n        return this;\n    };\n    Emitter.prototype.off = function (event, callback) {\n        var _a;\n        var fns = (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [];\n        var without = fns.filter(function (fn) { return fn !== callback; });\n        this.callbacks[event] = without;\n        return this;\n    };\n    Emitter.prototype.emit = function (event) {\n        var _this = this;\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var callbacks = (_a = this.callbacks[event]) !== null && _a !== void 0 ? _a : [];\n        callbacks.forEach(function (callback) {\n            callback.apply(_this, args);\n        });\n        return this;\n    };\n    return Emitter;\n}());\nexport { Emitter };\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}