{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rober\\\\Documents\\\\copiaswaps-client\\\\swaps-client\\\\src\\\\components\\\\Exchange\\\\ExchangeHeader\\\\index.js\";\nimport cx from \"classnames\";\nimport { formatAmount, USD_DECIMALS, getTokenInfo, CHART_PERIODS } from \"../../../Helpers\";\nimport ChartTokenSelector from \"../ChartTokenSelector\";\nimport Tab from \"../../Tab/Tab\";\nimport { ChartToggle } from \"./ChartToggle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ExchangeHeader = props => {\n  const {\n    priceData,\n    currentAveragePrice,\n    setChartToken,\n    setToTokenAddress,\n    swapOption,\n    chainId,\n    chartToken,\n    trackAction,\n    period,\n    setPeriod,\n    infoTokens,\n    selectedChart,\n    setSelectedChart\n  } = props;\n  let high;\n  let low;\n  let deltaPrice;\n  let delta;\n  let deltaPercentage;\n  let deltaPercentageStr;\n  const now = parseInt(Date.now() / 1000);\n  const timeThreshold = now - 24 * 60 * 60;\n\n  if (priceData) {\n    for (let i = priceData.length - 1; i > 0; i--) {\n      const price = priceData[i];\n\n      if (price.time < timeThreshold) {\n        break;\n      }\n\n      if (!low) {\n        low = price.low;\n      }\n\n      if (!high) {\n        high = price.high;\n      }\n\n      if (price.high > high) {\n        high = price.high;\n      }\n\n      if (price.low < low) {\n        low = price.low;\n      }\n\n      deltaPrice = price.open;\n    }\n  }\n\n  if (deltaPrice && currentAveragePrice) {\n    const average = parseFloat(formatAmount(currentAveragePrice, USD_DECIMALS, 2));\n    delta = average - deltaPrice;\n    deltaPercentage = delta * 100 / average;\n\n    if (deltaPercentage > 0) {\n      deltaPercentageStr = `+${deltaPercentage.toFixed(2)}%`;\n    } else {\n      deltaPercentageStr = `${deltaPercentage.toFixed(2)}%`;\n    }\n\n    if (deltaPercentage === 0) {\n      deltaPercentageStr = \"0.00\";\n    }\n  }\n\n  const onSelectToken = token => {\n    const tmp = getTokenInfo(infoTokens, token.address);\n    setChartToken(tmp);\n    setToTokenAddress(swapOption, token.address);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ExchangeChart-top App-box App-box-border\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ExchangeChart-top-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ExchangeChart-title\",\n            children: /*#__PURE__*/_jsxDEV(ChartTokenSelector, {\n              chainId: chainId,\n              selectedToken: chartToken,\n              swapOption: swapOption,\n              infoTokens: infoTokens,\n              onSelectToken: onSelectToken,\n              className: \"chart-token-selector\",\n              trackAction: trackAction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ExchangeChart-main-price\",\n            children: chartToken.maxPrice && formatAmount(chartToken.maxPrice, USD_DECIMALS, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ExchangeChart-info-label\",\n            children: [\"$\", chartToken.minPrice && formatAmount(chartToken.minPrice, USD_DECIMALS, 2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: cx({\n              positive: deltaPercentage > 0,\n              negative: deltaPercentage < 0\n            }),\n            children: [!deltaPercentageStr && \"-\", deltaPercentageStr && deltaPercentageStr]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ExchangeChart-info-label\",\n            children: \"24h Change\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ExchangeChart-additional-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [!high && \"-\", high && high.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ExchangeChart-info-label\",\n            children: \"24h High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ExchangeChart-additional-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [!low && \"-\", low && low.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ExchangeChart-info-label\",\n            children: \"24h Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ExchangeChart-top-controls\",\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        options: Object.keys(CHART_PERIODS),\n        option: period,\n        setOption: setPeriod,\n        trackAction: trackAction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChartToggle, {\n        selectedChart: selectedChart,\n        setSelectedChart: setSelectedChart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_c = ExchangeHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExchangeHeader\");","map":{"version":3,"names":["cx","formatAmount","USD_DECIMALS","getTokenInfo","CHART_PERIODS","ChartTokenSelector","Tab","ChartToggle","ExchangeHeader","props","priceData","currentAveragePrice","setChartToken","setToTokenAddress","swapOption","chainId","chartToken","trackAction","period","setPeriod","infoTokens","selectedChart","setSelectedChart","high","low","deltaPrice","delta","deltaPercentage","deltaPercentageStr","now","parseInt","Date","timeThreshold","i","length","price","time","open","average","parseFloat","toFixed","onSelectToken","token","tmp","address","maxPrice","minPrice","positive","negative","Object","keys"],"sources":["C:/Users/rober/Documents/copiaswaps-client/swaps-client/src/components/Exchange/ExchangeHeader/index.js"],"sourcesContent":["import cx from \"classnames\";\nimport { formatAmount, USD_DECIMALS, getTokenInfo, CHART_PERIODS } from \"../../../Helpers\";\nimport ChartTokenSelector from \"../ChartTokenSelector\";\nimport Tab from \"../../Tab/Tab\";\nimport { ChartToggle } from \"./ChartToggle\";\n\nexport const ExchangeHeader = (props) => {\n  const {\n    priceData,\n    currentAveragePrice,\n    setChartToken,\n    setToTokenAddress,\n    swapOption,\n    chainId,\n    chartToken,\n    trackAction,\n    period,\n    setPeriod,\n    infoTokens,\n    selectedChart,\n    setSelectedChart,\n  } = props;\n\n  let high;\n  let low;\n  let deltaPrice;\n  let delta;\n  let deltaPercentage;\n  let deltaPercentageStr;\n\n  const now = parseInt(Date.now() / 1000);\n  const timeThreshold = now - 24 * 60 * 60;\n\n  if (priceData) {\n    for (let i = priceData.length - 1; i > 0; i--) {\n      const price = priceData[i];\n      if (price.time < timeThreshold) {\n        break;\n      }\n      if (!low) {\n        low = price.low;\n      }\n      if (!high) {\n        high = price.high;\n      }\n\n      if (price.high > high) {\n        high = price.high;\n      }\n      if (price.low < low) {\n        low = price.low;\n      }\n\n      deltaPrice = price.open;\n    }\n  }\n\n  if (deltaPrice && currentAveragePrice) {\n    const average = parseFloat(formatAmount(currentAveragePrice, USD_DECIMALS, 2));\n    delta = average - deltaPrice;\n    deltaPercentage = (delta * 100) / average;\n    if (deltaPercentage > 0) {\n      deltaPercentageStr = `+${deltaPercentage.toFixed(2)}%`;\n    } else {\n      deltaPercentageStr = `${deltaPercentage.toFixed(2)}%`;\n    }\n    if (deltaPercentage === 0) {\n      deltaPercentageStr = \"0.00\";\n    }\n  }\n\n  const onSelectToken = (token) => {\n    const tmp = getTokenInfo(infoTokens, token.address);\n    setChartToken(tmp);\n    setToTokenAddress(swapOption, token.address);\n  };\n\n  return (\n    <>\n      <div className=\"ExchangeChart-top App-box App-box-border\">\n        <div className=\"ExchangeChart-top-inner\">\n          <div>\n            <div className=\"ExchangeChart-title\">\n              <ChartTokenSelector\n                chainId={chainId}\n                selectedToken={chartToken}\n                swapOption={swapOption}\n                infoTokens={infoTokens}\n                onSelectToken={onSelectToken}\n                className=\"chart-token-selector\"\n                trackAction={trackAction}\n              />\n            </div>\n          </div>\n          <div>\n            <div className=\"ExchangeChart-main-price\">\n              {chartToken.maxPrice && formatAmount(chartToken.maxPrice, USD_DECIMALS, 2)}\n            </div>\n            <div className=\"ExchangeChart-info-label\">\n              ${chartToken.minPrice && formatAmount(chartToken.minPrice, USD_DECIMALS, 2)}\n            </div>\n          </div>\n          <div>\n            <div className={cx({ positive: deltaPercentage > 0, negative: deltaPercentage < 0 })}>\n              {!deltaPercentageStr && \"-\"}\n              {deltaPercentageStr && deltaPercentageStr}\n            </div>\n            <div className=\"ExchangeChart-info-label\">24h Change</div>\n          </div>\n          <div className=\"ExchangeChart-additional-info\">\n            <div>\n              {!high && \"-\"}\n              {high && high.toFixed(2)}\n            </div>\n            <div className=\"ExchangeChart-info-label\">24h High</div>\n          </div>\n          <div className=\"ExchangeChart-additional-info\">\n            <div>\n              {!low && \"-\"}\n              {low && low.toFixed(2)}\n            </div>\n            <div className=\"ExchangeChart-info-label\">24h Low</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"ExchangeChart-top-controls\">\n        <Tab options={Object.keys(CHART_PERIODS)} option={period} setOption={setPeriod} trackAction={trackAction} />\n        <ChartToggle selectedChart={selectedChart} setSelectedChart={setSelectedChart} />\n      </div>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}